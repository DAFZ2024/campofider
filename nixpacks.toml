# Configuración explícita para Nixpacks
providers = ["python", "node"]

[phases.setup]
nixPkgs = ["python3", "postgresql", "gcc", "curl"]

[phases.install]
cmds = [
    "python3 -m venv .venv",
    ". .venv/bin/activate && pip install -r requirements.txt",
    "npm ci"
]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = ". .venv/bin/activate && python init_db_postgres.py && gunicorn app:app"
